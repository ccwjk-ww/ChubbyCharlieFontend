import{c as j}from"./chunk-6GFLERAN.js";import{$ as C,Bb as i,Cb as O,Db as T,Ha as c,La as L,O as A,Ra as F,S as B,Wa as _,a as x,aa as S,b as v,c as y,ec as N,gc as R,hb as b,ib as r,jb as a,jc as U,kb as h,m as s,q as P,qc as G,rb as $,tb as M,w as I,y as u}from"./chunk-45HGJHZR.js";var D=class d{constructor(e){this.http=e}apiUrl="https://www.chubbycharlieshop.com/api";getAllOrders(){return this.http.get(`${this.apiUrl}/orders`).pipe(u(()=>s([])))}getMonthlyTransactions(e){return this.http.get(`${this.apiUrl}/transactions/monthly?months=${e}`)}getOrdersByStatus(e){return this.http.get(`${this.apiUrl}/orders/status/${e}`).pipe(u(()=>s([])))}getOrdersBySource(e){return this.http.get(`${this.apiUrl}/orders/source/${e}`).pipe(u(()=>s([])))}getAllProducts(){return this.http.get(`${this.apiUrl}/products`).pipe(u(()=>s([])))}getActiveProducts(){return this.http.get(`${this.apiUrl}/products/active`).pipe(u(()=>s([])))}getSystemSummary(){return this.http.get(`${this.apiUrl}/summary/system`).pipe(u(()=>s({chinaTotalValue:0,chinaItemCount:0,chinaTotalQuantity:0,thaiTotalValue:0,thaiItemCount:0,thaiTotalQuantity:0,grandTotalValue:0,totalItemCount:0,totalQuantity:0})))}getAllChinaStocks(){return this.http.get(`${this.apiUrl}/china-stocks`).pipe(u(()=>s([])))}getAllThaiStocks(){return this.http.get(`${this.apiUrl}/thai-stocks`).pipe(u(()=>s([])))}getAllStockLots(){return this.http.get(`${this.apiUrl}/stock-lots`).pipe(u(()=>s([])))}getTransactionSummary(){return this.http.get(`${this.apiUrl}/transactions/summary`).pipe(u(()=>s({totalIncome:0,totalExpense:0,netProfit:0,totalTransactions:0,incomeCount:0,expenseCount:0})))}getAllCustomers(){return this.http.get(`${this.apiUrl}/customers`).pipe(u(()=>s([])))}getAllEmployees(){return this.http.get(`${this.apiUrl}/employees`).pipe(u(()=>s([])))}getActiveEmployees(){return this.http.get(`${this.apiUrl}/employees/status/ACTIVE`).pipe(u(()=>s([])))}getStockForecastSummary(){return this.http.get(`${this.apiUrl}/stock-forecast/summary`).pipe(u(()=>s({totalItems:0,criticalItems:0,highUrgencyItems:0,mediumUrgencyItems:0,lowUrgencyItems:0})))}getUrgentStockItems(){return this.http.get(`${this.apiUrl}/stock-forecast/urgent`).pipe(u(()=>s([])))}getDashboardSummary(){return I({orders:this.getAllOrders(),products:this.getAllProducts(),stockSummary:this.getSystemSummary(),customers:this.getAllCustomers(),employees:this.getAllEmployees(),transactions:this.getTransactionSummary()}).pipe(P(e=>{let t=e.orders||[],n=new Date().getMonth(),o=new Date().getFullYear(),l=t.filter(g=>{if(!g.orderDate)return!1;let E=new Date(g.orderDate);return E.getMonth()===n&&E.getFullYear()===o}).reduce((g,E)=>g+(E.netAmount||0),0),m=n===0?11:n-1,f=n===0?o-1:o,w=t.filter(g=>{if(!g.orderDate)return!1;let E=new Date(g.orderDate);return E.getMonth()===m&&E.getFullYear()===f}).reduce((g,E)=>g+(E.netAmount||0),0),k=0;w>0?k=(l-w)/w*100:l>0&&(k=100);let V=t.reduce((g,E)=>g+(E.netAmount||0),0),z=t.filter(g=>g.status==="PENDING").length;return{totalOrders:t.length,totalRevenue:V,totalProducts:e.products.length,totalStock:e.stockSummary.totalQuantity||0,pendingOrders:z,lowStockItems:0,totalCustomers:e.customers.length,totalEmployees:e.employees.length,monthlyGrowth:Math.round(k*10)/10}}),u(()=>s({totalOrders:0,totalRevenue:0,totalProducts:0,totalStock:0,pendingOrders:0,lowStockItems:0,totalCustomers:0,totalEmployees:0,monthlyGrowth:0})))}getRevenueByMonth(e=6){return this.getAllOrders().pipe(P(t=>{let n={};return t.forEach(l=>{if(l.orderDate&&l.netAmount){let m=new Date(l.orderDate),f=`${m.getFullYear()}-${String(m.getMonth()+1).padStart(2,"0")}`;n[f]||(n[f]={revenue:0,count:0}),n[f].revenue+=l.netAmount,n[f].count+=1}}),Object.keys(n).sort().slice(-e).map(l=>({month:this.formatMonth(l),revenue:n[l].revenue,orders:n[l].count}))}),u(()=>s([])))}getTopSellingProducts(e=5){return this.getAllOrders().pipe(P(t=>{let n={};return t.forEach(o=>{o.orderItems&&Array.isArray(o.orderItems)&&o.orderItems.forEach(p=>{let l=p.productName||"Unknown",m=p.quantity||0,f=p.totalPrice||0;n[l]||(n[l]={quantity:0,revenue:0}),n[l].quantity+=m,n[l].revenue+=f})}),Object.entries(n).map(([o,p])=>({productName:o,totalSold:p.quantity,revenue:p.revenue})).sort((o,p)=>p.totalSold-o.totalSold).slice(0,e)}),u(()=>s([])))}getOrdersByStatusDistribution(){return this.getAllOrders().pipe(P(e=>{let t={};return e.forEach(n=>{let o=n.status||"UNKNOWN";t[o]=(t[o]||0)+1}),t}),u(()=>s({})))}getOrdersBySourceDistribution(){return this.getAllOrders().pipe(P(e=>{let t={};return e.forEach(n=>{let o=n.source||"UNKNOWN";t[o]=(t[o]||0)+1}),t}),u(()=>s({})))}formatMonth(e){let[t,n]=e.split("-");return new Date(parseInt(t),parseInt(n)-1).toLocaleDateString("th-TH",{month:"short",year:"numeric"})}static \u0275fac=function(t){return new(t||d)(B(G))};static \u0275prov=A({token:d,factory:d.\u0275fac,providedIn:"root"})};function q(d,e){if(d&1&&(r(0,"div",11),C(),r(1,"svg",6),h(2,"circle",12)(3,"line",13)(4,"line",14),a(),S(),r(5,"span"),i(6),a()()),d&2){let t=M();c(6),O(t.errorMessage)}}function W(d,e){d&1&&(r(0,"div",15),h(1,"div",16),r(2,"p"),i(3,"\u0E01\u0E33\u0E25\u0E31\u0E07\u0E42\u0E2B\u0E25\u0E14\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E23\u0E2D\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48..."),a()())}function Z(d,e){if(d&1&&(r(0,"div",40)(1,"div",41)(2,"div",42),C(),r(3,"svg",6),h(4,"line",43)(5,"polyline",44),a()(),S(),r(6,"div",45)(7,"p",46),i(8,"\u0E23\u0E32\u0E22\u0E23\u0E31\u0E1A\u0E23\u0E27\u0E21"),a(),r(9,"h4",47),i(10),a()()(),r(11,"div",48)(12,"div",42),C(),r(13,"svg",6),h(14,"line",49)(15,"polyline",50),a()(),S(),r(16,"div",45)(17,"p",46),i(18,"\u0E23\u0E32\u0E22\u0E08\u0E48\u0E32\u0E22\u0E23\u0E27\u0E21"),a(),r(19,"h4",47),i(20),a()()(),r(21,"div",51)(22,"div",42),C(),r(23,"svg",6),h(24,"polyline",52),a()(),S(),r(25,"div",45)(26,"p",46),i(27,"\u0E01\u0E33\u0E44\u0E23\u0E2A\u0E38\u0E17\u0E18\u0E34"),a(),r(28,"h4",47),i(29),a()()()()),d&2){let t=M(2);c(10),O(t.formatCurrency(t.transactionSummary.totalIncome)),c(10),O(t.formatCurrency(t.transactionSummary.totalExpense)),c(),b("ngClass",t.transactionSummary.netProfit>=0?"positive":"negative"),c(8),O(t.formatCurrency(t.transactionSummary.netProfit))}}function K(d,e){if(d&1&&(r(0,"div",17),_(1,Z,30,4,"div",18),r(2,"div",19)(3,"div",20)(4,"div",21),C(),r(5,"svg",22),h(6,"circle",23)(7,"circle",24)(8,"path",25),a()(),S(),r(9,"div",26)(10,"p",27),i(11,"\u0E04\u0E33\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14"),a(),r(12,"h3",28),i(13),a(),r(14,"p",29),i(15),a()()(),r(16,"div",30)(17,"div",21),C(),r(18,"svg",22),h(19,"path",31),a()(),S(),r(20,"div",26)(21,"p",27),i(22,"\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32\u0E17\u0E31\u0E49\u0E07\u0E2B\u0E21\u0E14"),a(),r(23,"h3",28),i(24),a(),r(25,"p",32),i(26),a()()()(),r(27,"div",33)(28,"div",34)(29,"div",35)(30,"h3",36),i(31,"\u0E23\u0E32\u0E22\u0E23\u0E31\u0E1A \u0E23\u0E32\u0E22\u0E08\u0E48\u0E32\u0E22 \u0E41\u0E25\u0E30\u0E01\u0E33\u0E44\u0E23\u0E2A\u0E38\u0E17\u0E18\u0E34 (6 \u0E40\u0E14\u0E37\u0E2D\u0E19)"),a()(),r(32,"div",37),h(33,"canvas",38),a()(),r(34,"div",34)(35,"div",35)(36,"h3",36),i(37,"\u0E41\u0E19\u0E27\u0E42\u0E19\u0E49\u0E21\u0E23\u0E32\u0E22\u0E44\u0E14\u0E49 6 \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E22\u0E49\u0E2D\u0E19\u0E2B\u0E25\u0E31\u0E07"),a()(),r(38,"div",37),h(39,"canvas",38),a()()(),r(40,"div",33)(41,"div",39)(42,"div",35)(43,"h3",36),i(44,"\u0E04\u0E33\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D\u0E08\u0E32\u0E01\u0E41\u0E2B\u0E25\u0E48\u0E07\u0E15\u0E48\u0E32\u0E07\u0E46"),a()(),r(45,"div",37),h(46,"canvas",38),a()(),r(47,"div",39)(48,"div",35)(49,"h3",36),i(50,"\u0E2A\u0E16\u0E32\u0E19\u0E30\u0E04\u0E33\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D"),a()(),r(51,"div",37),h(52,"canvas",38),a()(),r(53,"div",39)(54,"div",35)(55,"h3",36),i(56,"\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32\u0E02\u0E32\u0E22\u0E14\u0E35 Top 5"),a()(),r(57,"div",37),h(58,"canvas",38),a()()()()),d&2){let t=M();c(),b("ngIf",t.transactionSummary),c(12),O(t.formatNumber(t.summary.totalOrders)),c(2),T("\u0E23\u0E2D\u0E14\u0E33\u0E40\u0E19\u0E34\u0E19\u0E01\u0E32\u0E23: ",t.summary.pendingOrders," \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),c(9),O(t.formatNumber(t.summary.totalProducts)),c(2),T("\u0E2A\u0E15\u0E47\u0E2D\u0E01\u0E15\u0E48\u0E33: ",t.summary.lowStockItems," \u0E23\u0E32\u0E22\u0E01\u0E32\u0E23"),c(7),b("data",t.transactionLineChartData)("options",t.transactionLineChartOptions)("type",t.transactionLineChartType),c(6),b("data",t.revenueLineChartData)("options",t.revenueLineChartOptions)("type",t.revenueLineChartType),c(7),b("data",t.orderSourcePieChartData)("options",t.orderSourcePieChartOptions)("type",t.orderSourcePieChartType),c(6),b("data",t.orderStatusBarChartData)("options",t.orderStatusBarChartOptions)("type",t.orderStatusBarChartType),c(6),b("data",t.topProductsChartData)("options",t.topProductsChartOptions)("type",t.topProductsChartType)}}var H=class d{constructor(e){this.dashboardService=e}summary={totalOrders:0,totalRevenue:0,totalProducts:0,totalStock:0,pendingOrders:0,lowStockItems:0,totalCustomers:0,totalEmployees:0,monthlyGrowth:0};transactionSummary=null;isLoading=!0;errorMessage="";revenueLineChartType="line";revenueLineChartData={labels:[],datasets:[{label:"\u0E23\u0E32\u0E22\u0E44\u0E14\u0E49 (\u0E1A\u0E32\u0E17)",data:[],borderColor:"#4F46E5",backgroundColor:"rgba(79, 70, 229, 0.1)",tension:.4,fill:!0,pointBackgroundColor:"#4F46E5",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4}]};revenueLineChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"top"},tooltip:{mode:"index",intersect:!1,callbacks:{label:e=>`\u0E3F${e.parsed.y.toLocaleString()}`}}},scales:{y:{beginAtZero:!0,ticks:{callback:e=>`\u0E3F${Number(e).toLocaleString()}`}}}};transactionLineChartType="line";transactionLineChartData={labels:[],datasets:[{label:"\u0E23\u0E32\u0E22\u0E23\u0E31\u0E1A",data:[],borderColor:"#10B981",backgroundColor:"rgba(16, 185, 129, 0.1)",tension:.4,fill:!0,pointBackgroundColor:"#10B981",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4},{label:"\u0E23\u0E32\u0E22\u0E08\u0E48\u0E32\u0E22",data:[],borderColor:"#EF4444",backgroundColor:"rgba(239, 68, 68, 0.1)",tension:.4,fill:!0,pointBackgroundColor:"#EF4444",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4},{label:"\u0E01\u0E33\u0E44\u0E23\u0E2A\u0E38\u0E17\u0E18\u0E34",data:[],borderColor:"#3B82F6",backgroundColor:"rgba(59, 130, 246, 0.1)",tension:.4,fill:!0,pointBackgroundColor:"#3B82F6",pointBorderColor:"#fff",pointBorderWidth:2,pointRadius:4}]};transactionLineChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1,callbacks:{label:e=>{let t=e.parsed.y;return`${e.dataset.label}: \u0E3F${t.toLocaleString()}`}}}},scales:{y:{beginAtZero:!0,ticks:{callback:e=>`\u0E3F${Number(e).toLocaleString()}`}}}};orderSourcePieChartType="pie";orderSourcePieChartData={labels:[],datasets:[{data:[],backgroundColor:["#FF6384","#36A2EB","#FFCE56","#4BC0C0","#9966FF"],hoverOffset:4}]};orderSourcePieChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom"},tooltip:{callbacks:{label:e=>{let t=e.label||"",n=e.parsed||0,o=e.dataset.data.reduce((l,m)=>l+m,0),p=(n/o*100).toFixed(1);return`${t}: ${n} (${p}%)`}}}}};orderStatusBarChartType="bar";orderStatusBarChartData={labels:[],datasets:[{label:"\u0E08\u0E33\u0E19\u0E27\u0E19\u0E04\u0E33\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D",data:[],backgroundColor:["#FFC107","#2196F3","#9C27B0","#4CAF50","#F44336","#FF9800","#607D8B","#E91E63"],borderRadius:8}]};orderStatusBarChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1}},scales:{y:{beginAtZero:!0,ticks:{stepSize:10}}}};topProductsChartType="bar";topProductsChartData={labels:[],datasets:[{label:"\u0E22\u0E2D\u0E14\u0E02\u0E32\u0E22",data:[],backgroundColor:"#10B981",borderRadius:8}]};topProductsChartOptions={responsive:!0,maintainAspectRatio:!1,indexAxis:"y",plugins:{legend:{display:!1}},scales:{x:{beginAtZero:!0}}};ngOnInit(){this.loadDashboardData()}loadDashboardData(){return y(this,null,function*(){this.isLoading=!0,this.errorMessage="";try{yield Promise.all([this.loadMainSummary(),this.loadTransactionSummary(),this.loadRevenueData(),this.loadOrdersBySource(),this.loadOrdersByStatus(),this.loadTopProducts(),this.loadMonthlyTransactions()])}catch(e){console.error("Error loading dashboard data:",e),this.errorMessage="\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E43\u0E19\u0E01\u0E32\u0E23\u0E42\u0E2B\u0E25\u0E14\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25 \u0E01\u0E23\u0E38\u0E13\u0E32\u0E25\u0E2D\u0E07\u0E43\u0E2B\u0E21\u0E48\u0E2D\u0E35\u0E01\u0E04\u0E23\u0E31\u0E49\u0E07"}finally{this.isLoading=!1}})}loadMainSummary(){return y(this,null,function*(){return new Promise(e=>{this.dashboardService.getDashboardSummary().subscribe({next:t=>{this.summary=t,e()},error:()=>e()})})})}loadTransactionSummary(){return y(this,null,function*(){return new Promise(e=>{this.dashboardService.getTransactionSummary().subscribe({next:t=>{this.transactionSummary=t,e()},error:()=>e()})})})}loadRevenueData(){return y(this,null,function*(){return new Promise(e=>{this.dashboardService.getRevenueByMonth(6).subscribe({next:t=>{t?.length>0&&(this.revenueLineChartData={labels:t.map(n=>n.month),datasets:[v(x({},this.revenueLineChartData.datasets[0]),{data:t.map(n=>n.revenue)})]}),e()},error:()=>e()})})})}loadMonthlyTransactions(){return y(this,null,function*(){return new Promise(e=>{this.dashboardService.getMonthlyTransactions(6).subscribe({next:t=>{if(t?.length>0){let n=t.map(m=>m.month),o=t.map(m=>m.income||0),p=t.map(m=>m.expense||0),l=o.map((m,f)=>m-(p[f]||0));this.transactionLineChartData={labels:n,datasets:[v(x({},this.transactionLineChartData.datasets[0]),{data:o}),v(x({},this.transactionLineChartData.datasets[1]),{data:p}),v(x({},this.transactionLineChartData.datasets[2]),{data:l})]}}e()},error:()=>e()})})})}loadOrdersBySource(){return y(this,null,function*(){return new Promise(e=>{this.dashboardService.getOrdersBySourceDistribution().subscribe({next:t=>{let n=Object.keys(t),o=Object.values(t);n.length>0&&(this.orderSourcePieChartData={labels:n,datasets:[v(x({},this.orderSourcePieChartData.datasets[0]),{data:o})]}),e()},error:()=>e()})})})}loadOrdersByStatus(){return y(this,null,function*(){return new Promise(e=>{this.dashboardService.getOrdersByStatusDistribution().subscribe({next:t=>{let n=Object.keys(t),o=Object.values(t);n.length>0&&(this.orderStatusBarChartData={labels:n,datasets:[v(x({},this.orderStatusBarChartData.datasets[0]),{data:o})]}),e()},error:()=>e()})})})}loadTopProducts(){return y(this,null,function*(){return new Promise(e=>{this.dashboardService.getTopSellingProducts(5).subscribe({next:t=>{t?.length>0&&(this.topProductsChartData={labels:t.map(n=>n.productName),datasets:[v(x({},this.topProductsChartData.datasets[0]),{data:t.map(n=>n.totalSold)})]}),e()},error:()=>e()})})})}formatCurrency(e){return e==null||isNaN(e)?"\u0E3F0":new Intl.NumberFormat("th-TH",{style:"currency",currency:"THB"}).format(e)}formatNumber(e){return e==null||isNaN(e)?"0":new Intl.NumberFormat("th-TH").format(e)}getGrowthIcon(e){return e>=0?"Up":"Down"}getGrowthColor(e){return e>=0?"text-green-600":"text-red-600"}refreshDashboard(){this.loadDashboardData()}static \u0275fac=function(t){return new(t||d)(L(D))};static \u0275cmp=F({type:d,selectors:[["app-dashboard"]],decls:16,vars:4,consts:[[1,"dashboard-container"],[1,"dashboard-header"],[1,"header-content"],[1,"dashboard-title"],[1,"dashboard-subtitle"],[1,"refresh-button",3,"click","disabled"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["d","M21.5 2v6h-6M2.5 22v-6h6M2 11.5a10 10 0 0 1 18.8-4.3M22 12.5a10 10 0 0 1-18.8 4.2"],["class","error-banner",4,"ngIf"],["class","loading-container",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"error-banner"],["cx","12","cy","12","r","10"],["x1","12","y1","8","x2","12","y2","12"],["x1","12","y1","16","x2","12.01","y2","16"],[1,"loading-container"],[1,"spinner"],[1,"dashboard-content"],["class","transaction-summary",4,"ngIf"],[1,"summary-grid"],[1,"summary-card","card-indigo"],[1,"card-icon"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none","stroke","currentColor","stroke-width","2"],["cx","9","cy","21","r","1"],["cx","20","cy","21","r","1"],["d","M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"],[1,"card-content"],[1,"card-label"],[1,"card-value"],[1,"card-info"],[1,"summary-card","card-amber"],["d","M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"],[1,"card-info","text-red-600"],[1,"charts-row"],[1,"chart-card"],[1,"chart-header"],[1,"chart-title"],[1,"chart-body"],["baseChart","",3,"data","options","type"],[1,"chart-card","chart-card-small"],[1,"transaction-summary"],[1,"transaction-card","income"],[1,"transaction-icon"],["x1","12","y1","5","x2","12","y2","19"],["points","19 12 12 19 5 12"],[1,"transaction-content"],[1,"transaction-label"],[1,"transaction-value"],[1,"transaction-card","expense"],["x1","12","y1","19","x2","12","y2","5"],["points","5 12 12 5 19 12"],[1,"transaction-card","profit",3,"ngClass"],["points","22 12 18 12 15 21 9 3 6 12 2 12"]],template:function(t,n){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),i(5,"\u0E20\u0E32\u0E1E\u0E23\u0E27\u0E21\u0E23\u0E30\u0E1A\u0E1A"),a(),r(6,"p",4),i(7,"Dashboard \u0E01\u0E32\u0E23\u0E08\u0E31\u0E14\u0E01\u0E32\u0E23\u0E04\u0E25\u0E31\u0E07\u0E2A\u0E34\u0E19\u0E04\u0E49\u0E32\u0E41\u0E25\u0E30\u0E04\u0E33\u0E2A\u0E31\u0E48\u0E07\u0E0B\u0E37\u0E49\u0E2D"),a()(),r(8,"button",5),$("click",function(){return n.refreshDashboard()}),C(),r(9,"svg",6),h(10,"path",7),a(),S(),r(11,"span"),i(12,"\u0E23\u0E35\u0E40\u0E1F\u0E23\u0E0A\u0E02\u0E49\u0E2D\u0E21\u0E39\u0E25"),a()()()(),_(13,q,7,1,"div",8)(14,W,4,0,"div",9)(15,K,59,20,"div",10),a()),t&2&&(c(8),b("disabled",n.isLoading),c(5),b("ngIf",n.errorMessage),c(),b("ngIf",n.isLoading),c(),b("ngIf",!n.isLoading))},dependencies:[U,N,R,j],styles:[".dashboard-container[_ngcontent-%COMP%]{margin:1rem;padding:1.5rem;background-color:#fff;border-radius:1rem;box-shadow:0 2px 8px #0000000d;border:1px solid #e5e7eb;min-height:calc(100vh - 2rem);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;box-sizing:border-box}.dashboard-header[_ngcontent-%COMP%]{margin-bottom:32px}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:16px}.dashboard-title[_ngcontent-%COMP%]{font-size:30px;font-weight:700;color:#1e293b;margin:0 0 6px;letter-spacing:-.5px}.dashboard-subtitle[_ngcontent-%COMP%]{font-size:15px;color:#64748b;margin:0;font-weight:500}.refresh-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:11px 22px;background:linear-gradient(135deg,#4f46e5,#7c3aed);color:#fff;border:none;border-radius:12px;font-size:14px;font-weight:600;cursor:pointer;transition:all .25s ease;box-shadow:0 4px 12px #4f46e540}.refresh-button[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #4f46e559}.refresh-button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.refresh-button[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{transition:transform .3s ease}.refresh-button[_ngcontent-%COMP%]:hover:not(:disabled)   svg[_ngcontent-%COMP%]{transform:rotate(360deg)}.error-banner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;background:#fee2e2;border:1px solid #fca5a5;border-radius:12px;color:#991b1b;margin-bottom:24px;font-weight:500;box-shadow:0 2px 8px #fee2e299}.loading-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 20px;gap:20px;color:#64748b}.spinner[_ngcontent-%COMP%]{width:56px;height:56px;border:5px solid #e2e8f0;border-top-color:#4f46e5;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s ease-in-out infinite}.summary-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;margin-bottom:32px}.summary-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 16px #00000014;display:flex;gap:18px;transition:all .25s ease;border:1px solid #f1f5f9}.summary-card[_ngcontent-%COMP%]:hover{transform:translateY(-6px);box-shadow:0 12px 28px #0000001f}.card-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:14px;display:flex;align-items:center;justify-content:center;flex-shrink:0;background:#fff;box-shadow:0 2px 8px #0000001a}.card-indigo[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4f46e5,#7c3aed)}.card-amber[_ngcontent-%COMP%]   .card-icon[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f59e0b,#d97706)}.card-icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:28px;height:28px;color:#fff}.card-content[_ngcontent-%COMP%]{flex:1}.card-label[_ngcontent-%COMP%]{font-size:14px;color:#64748b;margin:0 0 8px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.card-value[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#1e293b;margin:0 0 6px}.card-info[_ngcontent-%COMP%]{font-size:13px;margin:0;font-weight:500;color:#64748b}.transaction-summary[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px;margin-bottom:32px}.transaction-card[_ngcontent-%COMP%]{background:#fff;border-radius:14px;padding:20px;display:flex;align-items:center;gap:16px;box-shadow:0 3px 12px #00000012;border-left:5px solid;transition:all .2s ease}.transaction-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 8px 20px #0000001a}.transaction-card.income[_ngcontent-%COMP%]{border-left-color:#10b981}.transaction-card.expense[_ngcontent-%COMP%]{border-left-color:#ef4444}.transaction-card.profit.positive[_ngcontent-%COMP%]{border-left-color:#3b82f6}.transaction-card.profit.negative[_ngcontent-%COMP%]{border-left-color:#f59e0b}.transaction-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:12px;display:flex;align-items:center;justify-content:center;background:#fefce8}.transaction-card.income[_ngcontent-%COMP%]   .transaction-icon[_ngcontent-%COMP%]{background:#d1fae5;color:#10b981}.transaction-card.expense[_ngcontent-%COMP%]   .transaction-icon[_ngcontent-%COMP%]{background:#fee2e2;color:#ef4444}.transaction-card.profit[_ngcontent-%COMP%]   .transaction-icon[_ngcontent-%COMP%]{background:#dbeafe;color:#3b82f6}.transaction-label[_ngcontent-%COMP%]{font-size:13px;color:#64748b;margin:0 0 4px;font-weight:600;text-transform:uppercase;letter-spacing:.5px}.transaction-value[_ngcontent-%COMP%]{font-size:22px;font-weight:700;color:#1e293b;margin:0}.charts-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(420px,1fr));gap:28px;margin-bottom:32px}.chart-card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:24px;box-shadow:0 4px 16px #00000014;border:1px solid #f1f5f9;transition:all .2s ease}.chart-card[_ngcontent-%COMP%]:hover{box-shadow:0 10px 24px #0000001a}.chart-card-small[_ngcontent-%COMP%]{min-height:380px}.chart-header[_ngcontent-%COMP%]{margin-bottom:20px;padding-bottom:14px;border-bottom:2px solid #f1f5f9}.chart-title[_ngcontent-%COMP%]{font-size:18px;font-weight:600;color:#1e293b;margin:0}.chart-body[_ngcontent-%COMP%]{height:340px;position:relative}@keyframes _ngcontent-%COMP%_spin{to{transform:rotate(360deg)}}@media (max-width: 1200px){.charts-row[_ngcontent-%COMP%]{grid-template-columns:1fr}}@media (max-width: 768px){.dashboard-container[_ngcontent-%COMP%]{padding:20px}.summary-grid[_ngcontent-%COMP%], .transaction-summary[_ngcontent-%COMP%]{grid-template-columns:1fr}.header-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.refresh-button[_ngcontent-%COMP%]{width:100%;justify-content:center}.dashboard-title[_ngcontent-%COMP%]{font-size:26px}}"]})};export{H as DashboardComponent};
