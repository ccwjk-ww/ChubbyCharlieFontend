import{a as x}from"./chunk-ZGUUKWFW.js";import{a as K,b as Q}from"./chunk-6GFLERAN.js";import{t as B,u as J}from"./chunk-OKAB5353.js";import{a as S,c as W,d as _,e as Y,f as q,g as H}from"./chunk-ACYYDNGN.js";import{a as V}from"./chunk-ZATVBB7N.js";import{Ab as D,Bb as h,Cb as b,Ha as a,Jb as T,K as U,La as M,O as z,Ra as k,S as N,V as j,Wa as m,Z as v,_ as C,fc as F,gc as P,hb as l,i as L,ib as r,jb as s,jc as w,kb as d,ob as R,pb as E,qb as A,rb as f,rc as $,tb as c,x as O,zb as u}from"./chunk-45HGJHZR.js";function ie(e,n){if(e&1&&d(0,"i",14),e&2){let t=c().$implicit,i=c();u("expanded",i.isMenuExpanded(t.route))}}function ae(e,n){if(e&1){let t=A();r(0,"li",17)(1,"a",18),f("click",function(){let p=v(t).$implicit,g=c(3);return C(g.navigateToRoute(p.route))}),d(2,"i"),r(3,"span",19),h(4),s()()()}if(e&2){let t=n.$implicit,i=c(3);a(),u("active",i.isSubItemActive(t)),l("routerLink",t.route),a(),D(T("",t.icon," submenu-icon")),a(2),b(t.label)}}function re(e,n){if(e&1&&(r(0,"ul",15),m(1,ae,5,7,"li",16),s()),e&2){let t=c().$implicit,i=c();u("expanded",i.isMenuExpanded(t.route)),a(),l("ngForOf",t.subItems)}}function se(e,n){if(e&1){let t=A();r(0,"li",9)(1,"a",10),f("click",function(p){let g=v(t).$implicit,G=c();return C(g.subItems?G.toggleSubMenu(g,p):G.navigateToRoute(g.route))}),d(2,"i"),r(3,"span",11),h(4),s(),m(5,ie,1,2,"i",12),s(),m(6,re,2,3,"ul",13),s()}if(e&2){let t=n.$implicit,i=c();a(),u("active",i.isActiveRoute(t.route))("has-submenu",t.subItems),l("title",i.isCollapsed?t.label:""),a(),D(T("",t.icon," menu-icon")),a(),u("hidden",i.isCollapsed),a(),b(t.label),a(),l("ngIf",t.subItems&&!i.isCollapsed),a(),l("ngIf",t.subItems&&!i.isCollapsed)}}function ce(e,n){if(e&1){let t=A();r(0,"div",24)(1,"div",25)(2,"span",26),h(3),s()(),r(4,"div",27)(5,"h4",28),h(6),s(),r(7,"p",29),h(8),s()(),r(9,"div",30)(10,"button",31),f("click",function(){v(t);let p=c(2);return C(p.logout())}),d(11,"i",32),s()()()}if(e&2){let t=c(2);a(3),b(t.userInitial),a(3),b(t.userName),a(2),b(t.userRole)}}function le(e,n){if(e&1){let t=A();r(0,"div",33)(1,"button",34),f("click",function(){v(t);let p=c(2);return C(p.navigateToSettings())}),r(2,"span",26),h(3),s()(),r(4,"button",35),f("click",function(){v(t);let p=c(2);return C(p.logout())}),d(5,"i",32),s()()}if(e&2){let t=c(2);a(),l("title",t.userName),a(2),b(t.userInitial)}}function de(e,n){if(e&1&&(r(0,"div",20),d(1,"div",21),m(2,ce,12,3,"div",22)(3,le,6,2,"div",23),s()),e&2){let t=c();a(2),l("ngIf",!t.isCollapsed),a(),l("ngIf",t.isCollapsed)}}var I=class e{constructor(n,t){this.router=n;this.authService=t;this.router.events.pipe(O(i=>i instanceof S)).subscribe(i=>{this.activeRoute=i.url,this.updateExpandedMenus()})}destroy$=new L;activeRoute="/dashboard";isCollapsed=!1;isMobileMenuOpen=!1;expandedMenus=new Set;currentUser=null;menuItems=[{icon:"bi-grid",label:"Dashboard",route:"/dashboard"},{icon:"bi-person-vcard",label:"Staff",route:"/staff"},{icon:"bi-people",label:"Customer",route:"/customers"},{icon:"bi-cart-check",label:"Order Management",route:"/orders",subItems:[{icon:"bi-list-ul",label:"All Orders",route:"/orders"},{icon:"bi-cloud-upload",label:"Upload Orders",route:"/orders/upload"},{icon:"bi-plus-circle",label:"Add Manual Order",route:"/orders/add"}]},{icon:"bi-box-seam",label:"Product Management",route:"/products",subItems:[{icon:"bi-boxes",label:"All Products",route:"/products"}]},{icon:"bi-shop-window",label:"Stock Management",route:"/stock-management",subItems:[{icon:"bi-box-seam",label:"Dashboard",route:"/stocks-inventory"},{icon:"bi-archive",label:"Stock Lots",route:"/stock-lots"},{icon:"bi-geo-alt",label:"China Stock",route:"/china-stocks"},{icon:"bi-house-fill",label:"Thai Stock",route:"/thai-stocks"}]},{icon:"bi-graph-up-arrow",label:"Stock Forecast",route:"/stock-forecast",subItems:[{icon:"bi-speedometer2",label:"Dashboard",route:"/stock-forecast"},{icon:"bi-exclamation-triangle",label:"Urgent Items",route:"/stock-forecast/urgent"},{icon:"bi-cart-check",label:"Recommendations",route:"/stock-forecast/recommendations"},{icon:"bi-graph-up",label:"Usage Analysis",route:"/stock-forecast/analysis"}]},{icon:"bi-cash-coin",label:"Income & Expense",route:"/transactions",subItems:[{icon:"bi-list-ul",label:"All Transactions",route:"/transactions"},{icon:"bi-plus-circle",label:"Add Transaction",route:"/transactions/add"},{icon:"bi-bar-chart",label:"Reports",route:"/transactions/reports"}]},{icon:"bi-chat-right-heart",label:"Chubby Charlie AI",route:"/chat"}];ngOnInit(){let n=localStorage.getItem("sidebarCollapsed");this.isCollapsed=n==="true",this.updateExpandedMenus(),this.notifySidebarState(),this.loadUserData()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadUserData(){this.authService.currentUser$.pipe(U(this.destroy$)).subscribe(n=>{this.currentUser=n})}updateExpandedMenus(){this.menuItems.forEach(n=>{n.subItems&&n.subItems.some(i=>this.activeRoute.startsWith(i.route))&&this.expandedMenus.add(n.route)})}isActiveRoute(n){return this.activeRoute.startsWith(n)}isSubItemActive(n){return this.activeRoute.startsWith(n.route)}navigateToRoute(n){this.activeRoute=n,this.router.navigate([n]),this.isMobile&&(this.isMobileMenuOpen=!1,this.notifySidebarState())}toggleSubMenu(n,t){t.preventDefault(),t.stopPropagation(),n.subItems&&(this.expandedMenus.has(n.route)?this.expandedMenus.delete(n.route):this.expandedMenus.add(n.route))}isMenuExpanded(n){return this.expandedMenus.has(n)}toggleSidebar(){this.isMobile?this.isMobileMenuOpen=!this.isMobileMenuOpen:(this.isCollapsed=!this.isCollapsed,localStorage.setItem("sidebarCollapsed",this.isCollapsed.toString())),this.notifySidebarState()}notifySidebarState(){window.dispatchEvent(new CustomEvent("sidebarToggle",{detail:{collapsed:this.isCollapsed||this.isMobile&&!this.isMobileMenuOpen}}))}get isMobile(){return window.innerWidth<=768}get userName(){return this.currentUser?.empName||"User"}get userRole(){return this.currentUser?.role||"Employee"}get userEmail(){return this.currentUser?.email||""}get userInitial(){return this.currentUser?.empName?this.currentUser.empName.charAt(0).toUpperCase():"U"}get isAdmin(){return this.authService.isAdmin()}get isManager(){return this.authService.isManager()}navigateToProfile(){this.router.navigate(["/profile"])}navigateToSettings(){this.router.navigate(["/settings"])}logout(){confirm("\u0E04\u0E38\u0E13\u0E41\u0E19\u0E48\u0E43\u0E08\u0E27\u0E48\u0E32\u0E15\u0E49\u0E2D\u0E07\u0E01\u0E32\u0E23\u0E2D\u0E2D\u0E01\u0E08\u0E32\u0E01\u0E23\u0E30\u0E1A\u0E1A?")&&this.authService.logout().subscribe({next:()=>{console.log("Logged out successfully"),this.router.navigate(["/login"])},error:n=>{console.error("Logout error:",n),this.router.navigate(["/login"])}})}static \u0275fac=function(t){return new(t||e)(M(_),M(x))};static \u0275cmp=k({type:e,selectors:[["app-sidebar"]],decls:9,vars:4,consts:[[1,"sidebar"],[1,"sidebar-header"],[1,"logo-container",3,"click"],[1,"logo-circle"],["src","/logo.jpg","alt","Chubby Charlie Logo",1,"logo-image"],[1,"sidebar-menu"],[1,"nav","flex-column"],["class","nav-item",4,"ngFor","ngForOf"],["class","sidebar-footer",4,"ngIf"],[1,"nav-item"],[1,"nav-link",3,"click","title"],[1,"menu-text"],["class","bi-chevron-down submenu-arrow",3,"expanded",4,"ngIf"],["class","submenu",3,"expanded",4,"ngIf"],[1,"bi-chevron-down","submenu-arrow"],[1,"submenu"],["class","submenu-item",4,"ngFor","ngForOf"],[1,"submenu-item"],[1,"submenu-link",3,"click","routerLink"],[1,"submenu-text"],[1,"sidebar-footer"],[1,"footer-divider"],["class","profile-compact",4,"ngIf"],["class","profile-collapsed-footer",4,"ngIf"],[1,"profile-compact"],[1,"profile-avatar-compact"],[1,"avatar-initial-compact"],[1,"profile-info-compact"],[1,"profile-name-compact"],[1,"profile-role-compact"],[1,"profile-actions-compact"],["title","Logout",1,"action-btn-compact","logout",3,"click"],[1,"bi-box-arrow-right"],[1,"profile-collapsed-footer"],[1,"profile-avatar-collapsed",3,"click","title"],["title","Logout",1,"logout-btn-collapsed",3,"click"]],template:function(t,i){t&1&&(r(0,"nav",0)(1,"div",1)(2,"div",2),f("click",function(){return i.toggleSidebar()}),r(3,"div",3),d(4,"img",4),s()()(),r(5,"div",5)(6,"ul",6),m(7,se,7,13,"li",7),s()(),m(8,de,4,2,"div",8),s()),t&2&&(u("collapsed",i.isCollapsed),a(7),l("ngForOf",i.menuItems),a(),l("ngIf",i.currentUser))},dependencies:[w,F,P,H,Y],styles:['.sidebar[_ngcontent-%COMP%]{width:250px;height:calc(100vh - 1.5rem);background-color:#fff;position:fixed;top:.75rem;left:.75rem;overflow-y:auto;z-index:1000;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;border:1px solid #e5e7eb;transition:width .3s ease-in-out;animation:_ngcontent-%COMP%_slideInLeft .3s ease-out;display:flex;flex-direction:column}.sidebar.collapsed[_ngcontent-%COMP%]{width:80px}.sidebar-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;background-color:#fff;border-top-left-radius:.75rem;border-top-right-radius:.75rem;display:flex;align-items:center;justify-content:center;flex-shrink:0}.logo-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.875rem;transition:gap .3s ease-in-out}.logo-circle[_ngcontent-%COMP%]{width:70px;height:70px;padding-top:15px;display:flex;align-items:center;justify-content:center;flex-shrink:0}.logo-image[_ngcontent-%COMP%]{width:100px;height:100px;margin-top:20px;border-radius:12px;object-fit:cover;display:block;transition:all .3s ease-in-out;box-shadow:0 2px 12px #00000014;cursor:pointer}.logo-circle[_ngcontent-%COMP%]:hover   .logo-image[_ngcontent-%COMP%]{transform:scale(1.08);box-shadow:0 4px 20px #00000026}.sidebar.collapsed[_ngcontent-%COMP%]   .logo-image[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:10px}.sidebar-menu[_ngcontent-%COMP%]{padding:.5rem 0 1rem;flex:1;overflow-y:auto}.sidebar-menu[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none}.sidebar-menu[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:0 .75rem}.sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:0 .5rem}.sidebar-menu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1rem;margin:.125rem 0;color:#4b5563;text-decoration:none;border:none;border-radius:.5rem;transition:all .2s ease-in-out;gap:.75rem;font-size:.875rem;font-weight:500;position:relative;cursor:pointer;min-height:44px}.sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{justify-content:center;gap:0}.sidebar-menu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background-color:#f8fafc;transform:translate(2px)}.sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{transform:translate(0) scale(1.05)}.sidebar-menu[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#1e40af;font-weight:600}.sidebar-menu[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-.75rem;top:50%;transform:translateY(-50%);width:4px;height:70%;background-color:#3b82f6;border-radius:0 2px 2px 0}.sidebar.collapsed[_ngcontent-%COMP%]   .sidebar-menu[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:before{left:-.5rem;width:3px;height:60%}.sidebar-menu[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{color:#3b82f6}.menu-icon[_ngcontent-%COMP%]{font-size:1rem;width:20px;text-align:center;flex-shrink:0;color:inherit}.sidebar.collapsed[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{width:24px;font-size:1.125rem}.menu-text[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-weight:inherit;transition:opacity .3s ease-in-out,transform .3s ease-in-out}.menu-text.hidden[_ngcontent-%COMP%]{opacity:0;transform:translate(-10px);pointer-events:none;width:0}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:after{content:attr(title);position:absolute;left:calc(100% + 15px);top:50%;transform:translateY(-50%);background-color:#1f2937;color:#fff;padding:.5rem .75rem;border-radius:.375rem;font-size:.75rem;white-space:nowrap;opacity:0;pointer-events:none;transition:opacity .2s ease-in-out;z-index:1001;box-shadow:0 4px 12px #00000026}.sidebar.collapsed[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:after{opacity:1}.submenu[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;background:#fff;border-radius:0 0 8px 8px;overflow:hidden;max-height:0;transition:max-height .3s ease}.submenu.expanded[_ngcontent-%COMP%]{max-height:300px;margin-bottom:.5rem}.submenu-item[_ngcontent-%COMP%]{margin:0 .75rem}.submenu-link[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.625rem 1rem .625rem 2rem;margin:.125rem 0;color:#4b5563;text-decoration:none;border:none;border-radius:.5rem;transition:all .2s ease-in-out;gap:.75rem;font-size:.8rem;font-weight:500;position:relative;cursor:pointer;min-height:36px}.submenu-link[_ngcontent-%COMP%]:hover{background-color:#f8fafc;transform:translate(2px)}.submenu-link.active[_ngcontent-%COMP%]{color:#1e40af;font-weight:600}.submenu-link.active[_ngcontent-%COMP%]:before{content:"";position:absolute;left:-.75rem;top:50%;transform:translateY(-50%);width:3px;height:60%;background-color:#3b82f6;border-radius:0 2px 2px 0}.submenu-icon[_ngcontent-%COMP%]{font-size:.875rem;width:16px;text-align:center;flex-shrink:0;color:inherit}.submenu-text[_ngcontent-%COMP%]{flex:1;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.submenu-arrow[_ngcontent-%COMP%]{font-size:.75rem;margin-left:auto;transition:transform .3s ease;color:#9ca3af;width:16px;text-align:center}.submenu-arrow.expanded[_ngcontent-%COMP%]{transform:rotate(180deg);color:#4b5563}.sidebar.collapsed[_ngcontent-%COMP%]   .submenu[_ngcontent-%COMP%], .sidebar.collapsed[_ngcontent-%COMP%]   .submenu-arrow[_ngcontent-%COMP%]{display:none}.sidebar-footer[_ngcontent-%COMP%]{margin-top:auto;padding:0;background:#fff;border-bottom-left-radius:.75rem;border-bottom-right-radius:.75rem;flex-shrink:0}.footer-divider[_ngcontent-%COMP%]{height:1px;background:linear-gradient(90deg,transparent,#e5e7eb 50%,transparent);margin:0 .75rem .5rem}.profile-compact[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border-top:1px solid #e5e7eb;transition:all .2s ease}.profile-compact[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#f1f5f9,#e2e8f0)}.profile-avatar-compact[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;flex-shrink:0;box-shadow:0 2px 8px #667eea4d}.avatar-initial-compact[_ngcontent-%COMP%]{font-size:1rem;font-weight:700;color:#fff;text-transform:uppercase}.profile-info-compact[_ngcontent-%COMP%]{flex:1;min-width:0}.profile-name-compact[_ngcontent-%COMP%]{font-size:.875rem;font-weight:600;color:#1f2937;margin:0 0 .125rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.profile-role-compact[_ngcontent-%COMP%]{font-size:.7rem;font-weight:500;color:#6b7280;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.profile-actions-compact[_ngcontent-%COMP%]{display:flex;gap:.25rem;flex-shrink:0}.action-btn-compact[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:6px;border:1px solid #e5e7eb;background:#fff;color:#6b7280;font-size:.875rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;padding:0}.action-btn-compact[_ngcontent-%COMP%]:hover{background:#f3f4f6;color:#374151;border-color:#d1d5db;transform:translateY(-1px)}.action-btn-compact.logout[_ngcontent-%COMP%]{border-color:#fecaca;color:#dc2626}.action-btn-compact.logout[_ngcontent-%COMP%]:hover{background:#fef2f2;border-color:#fca5a5}.profile-collapsed-footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;padding:.75rem;align-items:center}.profile-avatar-collapsed[_ngcontent-%COMP%]{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;border:none;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 8px #667eea4d;padding:0}.profile-avatar-collapsed[_ngcontent-%COMP%]:hover{transform:scale(1.1);box-shadow:0 4px 12px #667eea66}.logout-btn-collapsed[_ngcontent-%COMP%]{width:48px;height:36px;border-radius:6px;background:linear-gradient(135deg,#fef2f2,#fee2e2);border:1px solid #fecaca;color:#dc2626;font-size:1rem;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;padding:0}.logout-btn-collapsed[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#fee2e2,#fecaca);transform:translateY(-2px);box-shadow:0 4px 12px #ef444433}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar, .sidebar-menu[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-track, .sidebar-menu[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent;border-radius:3px}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb, .sidebar-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d5db;border-radius:3px}.sidebar[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover, .sidebar-menu[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#9ca3af}@keyframes _ngcontent-%COMP%_slideInLeft{0%{transform:translate(-100%);opacity:0}to{transform:translate(0);opacity:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 768px){.sidebar[_ngcontent-%COMP%]{width:calc(100% - 1.5rem);height:auto;position:fixed;top:.75rem;left:.75rem;right:.75rem}.sidebar.collapsed[_ngcontent-%COMP%]{width:calc(100% - 1.5rem);transform:translate(-100%)}.sidebar.open[_ngcontent-%COMP%]{transform:translate(0)}.sidebar-menu[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:0 .5rem}}']})};function pe(e,n){e&1&&(R(0),d(1,"app-sidebar",2),r(2,"div",3)(3,"div",4),d(4,"router-outlet"),s()(),E())}function me(e,n){e&1&&(R(0),d(1,"router-outlet"),E())}var y=class e{constructor(n,t){this.router=n;this.authService=t}title="Stock Management System";isSidebarCollapsed=!1;showLayout=!1;ngOnInit(){this.checkLoginStatus(),this.router.events.pipe(O(n=>n instanceof S)).subscribe(()=>{this.checkLoginStatus()}),window.addEventListener("sidebarToggle",n=>{this.isSidebarCollapsed=n.detail.collapsed}),this.authService.isLoggedIn$.subscribe(n=>{this.showLayout=n&&!this.isPublicRoute()})}checkLoginStatus(){let n=this.authService.isLoggedIn(),t=this.router.url;this.showLayout=n&&!this.isPublicRoute()}isPublicRoute(){let n=this.router.url;return["/login","/unauthorized"].some(i=>n.startsWith(i))}static \u0275fac=function(t){return new(t||e)(M(_),M(x))};static \u0275cmp=k({type:e,selectors:[["app-root"]],decls:3,vars:6,consts:[[1,"app-container"],[4,"ngIf"],[1,"sidebar"],[1,"main-content"],[1,"content-area"]],template:function(t,i){t&1&&(r(0,"div",0),m(1,pe,5,0,"ng-container",1)(2,me,2,0,"ng-container",1),s()),t&2&&(u("sidebar-collapsed",i.isSidebarCollapsed)("full-screen",!i.showLayout),a(),l("ngIf",i.showLayout),a(),l("ngIf",!i.showLayout))},dependencies:[w,P,W,I],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8fafc}.app-container[_ngcontent-%COMP%]:not(.full-screen){display:grid;grid-template-columns:260px 1fr;grid-template-rows:auto 1fr;gap:0;padding:1rem;transition:grid-template-columns .3s ease-in-out}.app-container[_ngcontent-%COMP%]:not(.full-screen).sidebar-collapsed{grid-template-columns:80px 1fr}.app-container.full-screen[_ngcontent-%COMP%]{display:block;padding:0;width:100%;height:100vh}.app-container[_ngcontent-%COMP%]:not(.full-screen)   .sidebar[_ngcontent-%COMP%]{grid-row:1 / -1;grid-column:1}.main-content[_ngcontent-%COMP%]{grid-column:2;grid-row:1 / -1;display:flex;flex-direction:column;gap:1rem;min-height:100vh;overflow:hidden}.header[_ngcontent-%COMP%]{flex-shrink:0}.content-area[_ngcontent-%COMP%]{flex:1;overflow-y:auto;padding:0}@media (max-width: 768px){.app-container[_ngcontent-%COMP%]:not(.full-screen){grid-template-columns:1fr;padding:.5rem}.app-container[_ngcontent-%COMP%]:not(.full-screen).sidebar-collapsed{grid-template-columns:1fr}.app-container[_ngcontent-%COMP%]:not(.full-screen)   .sidebar[_ngcontent-%COMP%]{position:fixed;left:0;top:0;bottom:0;z-index:1000;transform:translate(-100%);transition:transform .3s ease-in-out}.app-container[_ngcontent-%COMP%]:not(.full-screen)   .sidebar.show[_ngcontent-%COMP%]{transform:translate(0)}.main-content[_ngcontent-%COMP%]{grid-column:1}}"]})};var o=class e{constructor(n,t){this.authService=n;this.router=t}canActivate(n,t){if(this.authService.isLoggedIn()){let i=n.data.roles;if(i&&i.length>0){let g=this.authService.getCurrentUser()?.role?.toUpperCase();return g&&i.includes(g)?!0:(this.router.navigate(["/unauthorized"]),!1)}return!0}return this.router.navigate(["/login"],{queryParams:{returnUrl:t.url}}),!1}static \u0275fac=function(t){return new(t||e)(N(x),N(_))};static \u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"})};var te=[{path:"login",loadComponent:()=>import("./chunk-YEFK7ZKC.js").then(e=>e.LoginComponent)},{path:"dashboard",loadComponent:()=>import("./chunk-PGNMEKRH.js").then(e=>e.DashboardComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"staff",loadComponent:()=>import("./chunk-RKKRVMK3.js").then(e=>e.Staff),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"staff/add",loadComponent:()=>import("./chunk-2QRCD6R4.js").then(e=>e.StaffAdd),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"staff/edit/:id",loadComponent:()=>import("./chunk-2QRCD6R4.js").then(e=>e.StaffAdd),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"customers",loadComponent:()=>import("./chunk-LZYUN5WW.js").then(e=>e.CustomerComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"customers/add",loadComponent:()=>import("./chunk-HAQUKDCJ.js").then(e=>e.CustomerAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"customers/edit/:id",loadComponent:()=>import("./chunk-HAQUKDCJ.js").then(e=>e.CustomerAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"products",loadComponent:()=>import("./chunk-RWHVVNVY.js").then(e=>e.ProductComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"products/add",loadComponent:()=>import("./chunk-XNQQGXF7.js").then(e=>e.ProductAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"products/edit/:id",loadComponent:()=>import("./chunk-XNQQGXF7.js").then(e=>e.ProductAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"products/:id/cost-analysis",loadComponent:()=>import("./chunk-NZSIFKHY.js").then(e=>e.ProductCostAnalysisComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"orders",loadComponent:()=>import("./chunk-TSM4DXWC.js").then(e=>e.OrderListComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"orders/upload",loadComponent:()=>import("./chunk-JKYZIKT5.js").then(e=>e.OrderUploadComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"orders/add",loadComponent:()=>import("./chunk-42FKQDBK.js").then(e=>e.OrderAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"orders/edit/:id",loadComponent:()=>import("./chunk-42FKQDBK.js").then(e=>e.OrderAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"orders/:id",loadComponent:()=>import("./chunk-VLFA76DT.js").then(e=>e.OrderDetailComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"stock-lots",loadComponent:()=>import("./chunk-WJTLWZI2.js").then(e=>e.StockLotComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"stock-lots/add",loadComponent:()=>import("./chunk-WPSN5KRL.js").then(e=>e.StockLotAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"stock-lots/edit/:id",loadComponent:()=>import("./chunk-WPSN5KRL.js").then(e=>e.StockLotAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"stock-lots/:id",loadComponent:()=>import("./chunk-QYVOTU62.js").then(e=>e.StockLotDetailComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"china-stocks",loadComponent:()=>import("./chunk-US65G6VQ.js").then(e=>e.ChinaStockComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"china-stocks/add",loadComponent:()=>import("./chunk-P2ZYSWPL.js").then(e=>e.ChinaStockAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"china-stocks/edit/:id",loadComponent:()=>import("./chunk-P2ZYSWPL.js").then(e=>e.ChinaStockAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"thai-stocks",loadComponent:()=>import("./chunk-2O6PQNQ5.js").then(e=>e.ThaiStockComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"thai-stocks/add",loadComponent:()=>import("./chunk-T7STDVZG.js").then(e=>e.ThaiStockAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"thai-stocks/edit/:id",loadComponent:()=>import("./chunk-T7STDVZG.js").then(e=>e.ThaiStockAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"stocks-inventory",loadComponent:()=>import("./chunk-JEDIJSBX.js").then(e=>e.StockDashboardComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"stock-forecast",loadComponent:()=>import("./chunk-QTDSBJNU.js").then(e=>e.StockForecastDashboardComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"stock-forecast/urgent",loadComponent:()=>import("./chunk-RNR7QCRV.js").then(e=>e.StockForecastUrgentComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"stock-forecast/recommendations",loadComponent:()=>import("./chunk-JG2CU6MM.js").then(e=>e.StockForecastRecommendationsComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"stock-forecast/analysis",loadComponent:()=>import("./chunk-5ND7JAIR.js").then(e=>e.StockForecastAnalysisComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"transactions",loadComponent:()=>import("./chunk-5WQNWJTO.js").then(e=>e.TransactionListComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"transactions/add",loadComponent:()=>import("./chunk-CVL6EL3Y.js").then(e=>e.TransactionAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"transactions/edit/:id",loadComponent:()=>import("./chunk-CVL6EL3Y.js").then(e=>e.TransactionAddComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"transactions/reports",loadComponent:()=>import("./chunk-GK3YCU42.js").then(e=>e.TransactionReportsComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"chat",loadComponent:()=>import("./chunk-KSJXBPPL.js").then(e=>e.ChatComponent),canActivate:[o],data:{roles:["ADMIN","MANAGER"]}},{path:"",redirectTo:"/login",pathMatch:"full"},{path:"unauthorized",loadComponent:()=>import("./chunk-CZORNC5M.js").then(e=>e.UnauthorizedComponent)},{path:"**",redirectTo:"/login"}];V(y,{providers:[q(te),$(),j(J,B),Q(K())]}).catch(e=>console.error(e));
