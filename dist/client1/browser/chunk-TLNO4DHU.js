import{O as u,S as c,f as o,qc as d}from"./chunk-45HGJHZR.js";var p=class s{constructor(t){this.http=t}apiUrl="https://www.chubbycharlieshop.com/api/products";stockApiUrl="https://www.chubbycharlieshop.com/api";getAllProducts(){return this.http.get(this.apiUrl)}getProductById(t){return this.http.get(`${this.apiUrl}/${t}`)}getActiveProducts(){return this.http.get(`${this.apiUrl}/active`)}getProductsByCategory(t){return this.http.get(`${this.apiUrl}/category/${t}`)}getProductBySku(t){return this.http.get(`${this.apiUrl}/sku/${t}`)}searchProducts(t){return this.http.get(`${this.apiUrl}/search?keyword=${t}`)}createProduct(t,e){let i=new FormData;return i.append("product",new Blob([JSON.stringify(t)],{type:"application/json"})),e&&i.append("image",e),this.http.post(this.apiUrl,i)}updateProduct(t,e,i){let n=new FormData;return n.append("product",new Blob([JSON.stringify(e)],{type:"application/json"})),i&&n.append("image",i),this.http.put(`${this.apiUrl}/${t}`,n)}updateProductData(t,e){return this.http.put(`${this.apiUrl}/${t}/data`,e)}deleteProduct(t){return this.http.delete(`${this.apiUrl}/${t}`)}discontinueProduct(t){return this.http.patch(`${this.apiUrl}/${t}/discontinue`,{})}addIngredient(t,e){return this.http.post(`${this.apiUrl}/${t}/ingredients`,e)}updateIngredient(t,e,i){return this.http.put(`${this.apiUrl}/${t}/ingredients/${e}`,i)}removeIngredient(t){return this.http.delete(`${this.apiUrl}/ingredients/${t}`)}recalculateProductCost(t){return this.http.post(`${this.apiUrl}/${t}/recalculate-cost`,{})}recalculateAllProductCosts(){return this.http.post(`${this.apiUrl}/recalculate-all-costs`,{})}recalculateProductsCostByStock(t){return this.http.post(`${this.apiUrl}/recalculate-by-stock/${t}`,{})}getProductCostAnalysis(t){return this.http.get(`${this.apiUrl}/${t}/cost-analysis`)}getProductsAffectedByStock(t){return this.http.get(`${this.apiUrl}/affected-by-stock/${t}`)}getAvailableStockItems(){return new o(t=>{let e=this.http.get(`${this.stockApiUrl}/china-stocks`),i=this.http.get(`${this.stockApiUrl}/thai-stocks`);Promise.all([e.toPromise(),i.toPromise()]).then(([n,l])=>{let a=[];n?.forEach(r=>{a.push({stockItemId:r.stockItemId,name:r.name,type:"CHINA",unitCost:r.finalPricePerPair||0,availableQuantity:r.quantity||0,status:r.status})}),l?.forEach(r=>{a.push({stockItemId:r.stockItemId,name:r.name,type:"THAI",unitCost:r.pricePerUnitWithShipping||0,availableQuantity:r.quantity||0,status:r.status})}),t.next(a),t.complete()}).catch(n=>t.error(n))})}getProductCategories(){return new o(t=>{t.next(["\u0E16\u0E38\u0E07\u0E40\u0E17\u0E49\u0E32","\u0E40\u0E2A\u0E37\u0E49\u0E2D\u0E1C\u0E49\u0E32","\u0E2D\u0E38\u0E1B\u0E01\u0E23\u0E13\u0E4C","\u0E1A\u0E23\u0E23\u0E08\u0E38\u0E20\u0E31\u0E13\u0E11\u0E4C","\u0E2D\u0E37\u0E48\u0E19\u0E46"]),t.complete()})}static \u0275fac=function(e){return new(e||s)(c(d))};static \u0275prov=u({token:s,factory:s.\u0275fac,providedIn:"root"})};export{p as a};
