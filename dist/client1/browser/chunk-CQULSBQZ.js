import{a as k}from"./chunk-ZGUUKWFW.js";import{b as S,d as A,e as L,f as z,g as I,h as F,s as T,u as j}from"./chunk-32P7OPYT.js";import{d as v}from"./chunk-ACYYDNGN.js";import"./chunk-ZATVBB7N.js";import{Ab as w,Bb as l,Cb as P,Gb as b,Ha as i,Hb as E,Ib as _,La as c,Ra as M,Wa as m,Z as h,_ as C,gc as O,hb as s,ib as n,jb as o,jc as y,kb as r,qb as x,rb as p,tb as f}from"./chunk-45HGJHZR.js";function N(a,d){if(a&1){let t=x();n(0,"div",23),r(1,"i",24),n(2,"span"),l(3),o(),n(4,"button",25),p("click",function(){h(t);let g=f();return C(g.clearError())}),r(5,"i",26),o()()}if(a&2){let t=f();i(3),P(t.errorMessage)}}function V(a,d){a&1&&(n(0,"span"),r(1,"i",27),l(2," \u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A "),o())}function R(a,d){a&1&&(n(0,"span",28),r(1,"i",29),l(2," \u0E01\u0E33\u0E25\u0E31\u0E07\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A... "),o())}var D=class a{constructor(d,t){this.authService=d;this.router=t;this.authService.isLoggedIn()&&this.router.navigate(["/dashboard"])}username="";password="";errorMessage="";loading=!1;showPassword=!1;onSubmit(){if(!this.username.trim()){this.errorMessage="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49";return}if(!this.password.trim()){this.errorMessage="\u0E01\u0E23\u0E38\u0E13\u0E32\u0E01\u0E23\u0E2D\u0E01\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19";return}this.loading=!0,this.errorMessage="";let d={username:this.username.trim(),password:this.password};this.authService.login(d).subscribe({next:t=>{t.success?(console.log("Login successful:",t),alert(`\u0E22\u0E34\u0E19\u0E14\u0E35\u0E15\u0E49\u0E2D\u0E19\u0E23\u0E31\u0E1A ${t.employee.empName}`),this.router.navigate(["/dashboard"])):(this.errorMessage=t.message,this.loading=!1)},error:t=>{console.error("Login error:",t),t.status===401?this.errorMessage=t.error?.message||"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49\u0E2B\u0E23\u0E37\u0E2D\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19\u0E44\u0E21\u0E48\u0E16\u0E39\u0E01\u0E15\u0E49\u0E2D\u0E07":this.errorMessage="\u0E40\u0E01\u0E34\u0E14\u0E02\u0E49\u0E2D\u0E1C\u0E34\u0E14\u0E1E\u0E25\u0E32\u0E14\u0E43\u0E19\u0E01\u0E32\u0E23\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A \u0E01\u0E23\u0E38\u0E13\u0E32\u0E25\u0E2D\u0E07\u0E43\u0E2B\u0E21\u0E48\u0E2D\u0E35\u0E01\u0E04\u0E23\u0E31\u0E49\u0E07",this.loading=!1}})}togglePasswordVisibility(){this.showPassword=!this.showPassword}clearError(){this.errorMessage=""}static \u0275fac=function(t){return new(t||a)(c(k),c(v))};static \u0275cmp=M({type:a,selectors:[["app-login"]],decls:32,vars:12,consts:[[1,"login-container"],[1,"login-card"],[1,"login-header"],[1,"logo"],["src","/logo.jpg","alt","Chubby Charlie Logo",1,"logo-image"],[1,"subtitle"],["class","alert alert-error",4,"ngIf"],[1,"login-form",3,"ngSubmit"],[1,"form-group"],["for","username"],[1,"input-group"],[1,"bi-person","input-icon"],["type","text","id","username","placeholder","\u0E01\u0E23\u0E2D\u0E01\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49","name","username","autocomplete","username","required","",1,"form-input",3,"ngModelChange","input","ngModel","disabled"],["for","password"],[1,"bi-lock","input-icon"],["id","password","placeholder","\u0E01\u0E23\u0E2D\u0E01\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19","name","password","autocomplete","current-password","required","",1,"form-input",3,"ngModelChange","input","type","ngModel","disabled"],["type","button",1,"password-toggle",3,"click","disabled"],["type","submit",1,"login-btn",3,"disabled"],[4,"ngIf"],["class","loading-spinner",4,"ngIf"],[1,"login-footer"],[1,"info-text"],[1,"bi-info-circle"],[1,"alert","alert-error"],[1,"bi-exclamation-circle"],[1,"alert-close",3,"click"],[1,"bi-x"],[1,"bi-box-arrow-in-right"],[1,"loading-spinner"],[1,"bi-arrow-repeat","spin"]],template:function(t,e){t&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),r(4,"img",4),o(),n(5,"h1"),l(6,"\u0E40\u0E02\u0E49\u0E32\u0E2A\u0E39\u0E48\u0E23\u0E30\u0E1A\u0E1A"),o(),n(7,"p",5),l(8,"Chubby Charlie System"),o()(),m(9,N,6,1,"div",6),n(10,"form",7),p("ngSubmit",function(){return e.onSubmit()}),n(11,"div",8)(12,"label",9),l(13,"\u0E0A\u0E37\u0E48\u0E2D\u0E1C\u0E39\u0E49\u0E43\u0E0A\u0E49"),o(),n(14,"div",10),r(15,"i",11),n(16,"input",12),_("ngModelChange",function(u){return E(e.username,u)||(e.username=u),u}),p("input",function(){return e.clearError()}),o()()(),n(17,"div",8)(18,"label",13),l(19,"\u0E23\u0E2B\u0E31\u0E2A\u0E1C\u0E48\u0E32\u0E19"),o(),n(20,"div",10),r(21,"i",14),n(22,"input",15),_("ngModelChange",function(u){return E(e.password,u)||(e.password=u),u}),p("input",function(){return e.clearError()}),o(),n(23,"button",16),p("click",function(){return e.togglePasswordVisibility()}),r(24,"i"),o()()(),n(25,"button",17),m(26,V,3,0,"span",18)(27,R,3,0,"span",19),o()(),n(28,"div",20)(29,"p",21),r(30,"i",22),l(31," \u0E2A\u0E33\u0E2B\u0E23\u0E31\u0E1A Admin \u0E41\u0E25\u0E30 Manager \u0E40\u0E17\u0E48\u0E32\u0E19\u0E31\u0E49\u0E19 "),o()()()()),t&2&&(i(9),s("ngIf",e.errorMessage),i(7),b("ngModel",e.username),s("disabled",e.loading),i(6),s("type",e.showPassword?"text":"password"),b("ngModel",e.password),s("disabled",e.loading),i(),s("disabled",e.loading),i(),w(e.showPassword?"bi-eye-slash":"bi-eye"),i(),s("disabled",e.loading||!e.username||!e.password),i(),s("ngIf",!e.loading),i(),s("ngIf",e.loading))},dependencies:[y,O,j,F,S,A,L,T,I,z],styles:[".login-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#ff855a,#d1d175);position:relative;overflow:hidden;padding:2rem}.login-background[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden;z-index:0}.shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;opacity:.15}.shape-1[_ngcontent-%COMP%]{width:500px;height:500px;background:#fff4c5;top:-200px;right:-100px}.shape-2[_ngcontent-%COMP%]{width:300px;height:300px;background:#a5b7e5;bottom:-100px;left:-50px}.shape-3[_ngcontent-%COMP%]{width:200px;height:200px;background:#f7f6eb;top:50%;left:10%}.login-card[_ngcontent-%COMP%]{background:#f7f6eb;border-radius:24px;padding:3rem;width:100%;max-width:450px;box-shadow:0 20px 60px #3820204d;position:relative;z-index:1;animation:_ngcontent-%COMP%_fadeInUp .6s ease-out;border:3px solid #FF855A}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2.5rem}.logo[_ngcontent-%COMP%]{width:100px;height:100px;margin:0 auto 1.5rem;background:#fff4c5;border-radius:50%;display:flex;align-items:center;justify-content:center;border:4px solid #FF855A;box-shadow:0 10px 30px #ff855a66;overflow:hidden}.logo-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:50%}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:#382020;margin:0 0 .5rem}.subtitle[_ngcontent-%COMP%]{font-size:1rem;color:#382020b3;margin:0;font-weight:500}.alert[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem 1.25rem;border-radius:12px;margin-bottom:1.5rem;position:relative;animation:_ngcontent-%COMP%_slideDown .3s ease}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.alert-error[_ngcontent-%COMP%]{background:#ff855a1a;border:2px solid #FF855A;color:#382020}.alert[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:#ff855a}.alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-size:.95rem;font-weight:500}.alert-close[_ngcontent-%COMP%]{background:none;border:none;color:#ff855a;font-size:1.25rem;cursor:pointer;padding:0;width:24px;height:24px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background .2s}.alert-close[_ngcontent-%COMP%]:hover{background:#ff855a33}.login-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.95rem;font-weight:600;color:#382020}.input-group[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-icon[_ngcontent-%COMP%]{position:absolute;left:1rem;color:#d1d175;font-size:1.25rem;pointer-events:none}.form-input[_ngcontent-%COMP%]{width:100%;padding:1rem 1rem 1rem 3rem;border:2px solid #A5B7E5;border-radius:12px;font-size:1rem;transition:all .2s ease;background:#fff;color:#382020}.form-input[_ngcontent-%COMP%]::placeholder{color:#38202080}.form-input[_ngcontent-%COMP%]:focus{outline:none;border-color:#ff855a;box-shadow:0 0 0 4px #ff855a33}.form-input[_ngcontent-%COMP%]:disabled{background:#f7f6eb80;cursor:not-allowed}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:1rem;background:none;border:none;color:#d1d175;font-size:1.25rem;cursor:pointer;padding:.5rem;display:flex;align-items:center;justify-content:center;border-radius:6px;transition:all .2s}.password-toggle[_ngcontent-%COMP%]:hover:not(:disabled){color:#ff855a;background:#ff855a1a}.password-toggle[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.5}.login-btn[_ngcontent-%COMP%]{width:100%;padding:1.125rem;background:linear-gradient(135deg,#ff855a,#d1d175);color:#fff;border:none;border-radius:12px;font-size:1.05rem;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:.5rem;transition:all .3s ease;box-shadow:0 4px 12px #ff855a66;margin-top:.5rem;text-shadow:1px 1px 2px rgba(56,32,32,.3)}.login-btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 20px #ff855a99;filter:brightness(1.1)}.login-btn[_ngcontent-%COMP%]:active:not(:disabled){transform:translateY(0)}.login-btn[_ngcontent-%COMP%]:disabled{background:#a5b7e5;cursor:not-allowed;box-shadow:none;transform:none}.loading-spinner[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.login-footer[_ngcontent-%COMP%]{margin-top:2rem;text-align:center}.info-text[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;gap:.5rem;font-size:.9rem;color:#382020b3;margin:0}.info-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:#a5b7e5}@media (max-width: 640px){.login-container[_ngcontent-%COMP%]{padding:1rem}.login-card[_ngcontent-%COMP%]{padding:2rem 1.5rem}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.logo[_ngcontent-%COMP%]{width:80px;height:80px}.form-input[_ngcontent-%COMP%]{font-size:.95rem}.login-btn[_ngcontent-%COMP%]{font-size:1rem;padding:1rem}}*[_ngcontent-%COMP%]{transition:color .2s ease,background .2s ease,border-color .2s ease}[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f7f6eb}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#d1d175;border-radius:4px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ff855a}*[_ngcontent-%COMP%]:focus-visible{outline:2px solid #FF855A;outline-offset:2px}"]})};export{D as LoginComponent};
